<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/base.html -->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    draft-rao-pitfol-01
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://www.ietf.org/lib/dt/7.7.0/ptmono/stylesheet.css" rel='stylesheet' type='text/css'>
    <link href="https://www.ietf.org/lib/dt/7.7.0/ptsans/stylesheet.css" rel='stylesheet' type='text/css'>
    <link href="https://www.ietf.org/lib/dt/7.7.0/ptserif/stylesheet.css" rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="https://www.ietf.org/lib/dt/7.7.0/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.ietf.org/lib/dt/7.7.0/ietf/font-datatracker/css/font-datatracker.css">
    <link rel="stylesheet" href="https://www.ietf.org/lib/dt/7.7.0/ietf/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.ietf.org/lib/dt/7.7.0/ietf/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://www.ietf.org/lib/dt/7.7.0/ietf/css/ietf.css">
    
    <style>
     
.inline	{ display: inline; }

    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.7.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.7.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-rao-pitfol/">
  <meta name="description" content="Personal Information Tagging for Logs (Internet-Draft, 2020)">
  <script src="https://www.ietf.org/lib/dt/7.7.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.7.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.7.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.7.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;" data-group-menu-data-url="/group/groupmenu.json">
      <nav class="navbar navbar-inverse navbar-static-top">
        <div class="container-fluid">
	  <div class="navbar-header">
	    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
	      <span class="sr-only">Toggle navigation</span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	    </button>
	    <a class="navbar-brand" href="/">
	       <img alt="IETF Logo" src="https://www.ietf.org/lib/dt/7.7.0/ietf/images/ietflogo-small-transparent.png">
	       
		  
		  Datatracker
		  
	       
	    </a>
	  </div>

	  <noscript>
	    <p class="navbar-text"><small>Enable Javascript for full functionality.</small></p>
	  </noscript>

	  <div class="collapse navbar-collapse" id="navbar-collapse">
	    <ul class="hidden-nojs nav navbar-nav">
              <!-- template: /a/www/ietf-datatracker/web/ietf/templates/base/menu.html -->




<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
  
  Groups
  
    </a>
    <ul class="dropdown-menu" role="menu">
  

  <li><a href="/wg/">Active WGs</a></li>
  <li><a href="/rg/">Active RGs</a></li>
  <li class="dropdown-submenu group-menu"><a href="/group/">Other</a><!-- template: /a/www/ietf-datatracker/web/ietf/templates/base/menu_active_groups.html -->
<ul class="dropdown-menu" role="menu">

  <li>
    <a href="/ag/">Active AGs</a>
  </li>

  <li>
    <a href="/area/">Active Areas</a>
  </li>

  <li>
    <a href="/dir/">Active Directorates</a>
  </li>

  <li>
    <a href="/program/">Active Programs</a>
  </li>

  <li>
    <a href="/team/">Active Teams</a>
  </li>

</ul>
 </li>

  <li class="divider hidden-xs"></li>
  <li class="dropdown-header visible-lg-block">By area/parent</li>
        <!-- template: /a/www/ietf-datatracker/web/ietf/templates/base/menu_wg.html -->

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-2010">
    <a href="/wg/#art">Applications and Real-Time</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1008">
    <a href="/wg/#gen">General</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1052">
    <a href="/wg/#int">Internet</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1193">
    <a href="/wg/#ops">Ops &amp; Mgmt</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1249">
    <a href="/wg/#rtg">Routing</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1260">
    <a href="/wg/#sec">Security</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-1324">
    <a href="/wg/#tsv">Transport</a>
  </li>

  <li class="hidden-nojs dropdown-submenu group-menu group-parent-3">
    <a href="/rg/">IRTF</a>
  </li>


        

  <li class="divider hidden-xs"></li>
  <li class="dropdown-header hidden-xs">New work</li>
  <li><a href="/group/chartering/">Chartering groups</a></li>
  <li><a href="/wg/bofs/">BOFs</a></li>

  <li class="divider hidden-xs"></li>
  <li class="dropdown-header hidden-xs">Other groups</li>
  <li><a href="/group/concluded/">Concluded groups</a></li>
  <li><a href="/list/nonwg">Non-WG lists</a></li>

</ul>

<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
  
  Documents
  
    </a>
    <ul class="dropdown-menu" role="menu">
  
  <li><a href="/doc/search">Search</a></li>
  <li><a href="/doc/recent">Recent drafts</a></li>
  <li><a href="/submit/">Draft submission</a></li>

  
    <li><a rel="nofollow" href="/accounts/login/?next=/doc/html/draft-rao-pitfol-01">Sign in to track docs</a></li>
  


  <li class="divider hidden-xs"></li>
  <li class="dropdown-header hidden-xs">RFC streams</li>
        <li><a href="/stream/iab/">IAB</a></li>
        <li><a href="/stream/irtf/">IRTF</a></li>
        <li><a href="/stream/ise/">ISE</a></li>

</ul>

<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
  
  Meetings
  
    </a>
    <ul class="dropdown-menu" role="menu">
  

  <li><a href="/meeting/agenda/">Agenda</a></li>
  <li><a href="/meeting/materials/">Materials</a></li>
  <li><a href="/meeting/floor-plan/">Floor plan</a></li>
  <li><a href="https://www.ietf.org/how/meetings/register/">Registration</a></li>
  <li><a href="/meeting/important-dates/">Important dates</a></li>
  <li><a href="https://www.ietf.org/how/meetings/past/">Proceedings</a></li>
  <li><a href="/meeting/upcoming">Upcoming</a></li>
  <li><a href="/meeting/past">Past</a></li>
  <li><a href="/secr/sreq/">Request a session</a></li>
  <li><a href="/meeting/requests">Session requests</a></li>
</ul>

<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
  
  Other
  
    </a>
    <ul class="dropdown-menu" role="menu">
  

  <li><a href="/ipr/">IPR disclosures</a></li>
  <li><a href="/liaison/">Liaison statements</a></li>
  <li><a href="/iesg/agenda/">IESG agenda</a></li>
  <li><a href="/nomcom/">NomComs</a></li>
  <li><a href="/doc/downref/">Downref registry</a></li>
  <li class="dropdown-submenu">
    <a href="/stats/">Statistics</a>
    <ul class="dropdown-menu">
      <li><a href="/stats/document/">Drafts/RFCs</a></li>
      <li><a href="/stats/meeting/">Meetings</a></li>
      
    </ul>
  </li>
  <li><a href="/group/edu/materials/">Tutorials</a></li>
  <li><a href="/api/">API Help</a></li>  
  <li><a href="/release/">Release notes</a></li>
  <li class="divider hidden-xs"></li>
  <li><a href="https://tools.ietf.org/tools/ietfdb/newticket"><span class="fa fa-bug"></span> Report a bug</a></li>
</ul>


  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/base/menu_user.html -->


<li class="dropdown">
  
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
     User 
  </a>
  <ul class="dropdown-menu" role="menu">
  

  
    
      <li><a rel="nofollow" href="/accounts/login/?next=/doc/html/draft-rao-pitfol-01">Sign in</a></li>
      <li><a rel="nofollow" href="/accounts/reset/">Password reset</a></li>
      <li><a href="/accounts/settings/" rel="nofollow">Preferences</a></li>
    
    <li><a href="/help/personal-information">Handling of personal information</a></li>  
  

  
    <li><a href="/accounts/create/">New account</a></li>
  

  

  

  

  

  
</ul>



            </ul>

	    <form class="navbar-form navbar-right hidden-xs" action="/doc/search/">
	      <div class="form-group">
	        <input class="form-control input-sm" type="text" name="name" placeholder="Document search" required>
	        <input type="hidden" name="activedrafts" value="on">
	        <input type="hidden" name="rfcs" value="on">
	      </div>
	    </form>
	  </div>
        </div>
      </nav>
      <div class="container-fluid">
        
        
        
	  <div class="col-md-12 col-sm-12" id="content">
        
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
  <div class="hidden-print">
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_top.html -->

<h2>Personal Information Tagging for Logs<br><small>draft-rao-pitfol-01</small></h2>

<ul class="nav nav-tabs" role="tablist">
  
    <li  class="active ">
      <a href="/doc/draft-rao-pitfol/">Status</a>
    </li>
  
    <li title="IESG Evaluation Ballot has not been created yet" class="disabled ">
      <a >IESG evaluation record</a>
    </li>
  
    <li  class="">
      <a href="/doc/draft-rao-pitfol/writeup/">IESG writeups</a>
    </li>
  
    <li  class="">
      <a href="/doc/draft-rao-pitfol/email/">Email expansions</a>
    </li>
  
    <li  class="">
      <a href="/doc/draft-rao-pitfol/history/">History</a>
    </li>
  
</ul>

  </div>


  <div class="col-md-2"></div>
  <div class="col-md-8 rfcmarkup">
    
      <div class="hidden-print">
	 <pre class="meta-info">Versions: <a href="/doc/html/draft-rao-pitfol-00">00</a> <a href="/doc/html/draft-rao-pitfol-01"><b>01</b></a>                                                         </pre>
      </div>
    

    

    <div>
    <pre>Network Working Group                                             S. Rao
Internet-Draft                                                S. Nagaraj
Intended status: Experimental                                       Grab
Expires: September 10, 2020                                     S. Sahib
                                                                R. Guest
                                                              Salesforce
                                                           March 9, 2020


                 <span class="h1">Personal Information Tagging for Logs</span>
                          <span class="h1">draft-rao-pitfol-01</span>

Abstract

   Software systems typically generate log messages in the course of
   their operation.  These log messages (or &#x27;logs&#x27;) record events as
   they happen, thus providing a trail that can be used to understand
   the state of the system and help with troubleshooting issues.  Given
   that logs try to capture state that is useful for monitoring and
   debugging, they can contain information that can be used to identify
   users.  Personal data identification and anonymization in logs is
   crucial to ensure that no personal data is being inadvertently logged
   and retained which would make the logging system run afoul of laws
   around storing private information.  This document focuses on
   exploring mechanisms that can be used by a generating or intermediary
   logging service to specify personal or sensitive data in log
   message(s), thus allowing a downstream logging server to potentially
   enforce any redaction or transformation.

Requirements Language

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in <a href="/doc/html/rfc2119">RFC 2119</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at <a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a>.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any




<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as &quot;work in progress.&quot;

   This Internet-Draft will expire on September 10, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Motivation and Use Cases  . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Challenges with Existing Approaches . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-5">5</a>.  Proposed Model  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-5.1">5.1</a>.  Defining the log privacy schema . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-5.2">5.2</a>.  Typical Workflow  . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-5.3">5.3</a>.  Log Processing and Access Control . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-6">6</a>.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   <a href="#section-7">7</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-8">8</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-9">9</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-10">10</a>. Normative References  . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Logs capture the state of a software system in operation, thus
   providing observability.  However, because of the amount of state
   they capture, they can often contain sensitive user information
   [link: twitter storing passwords].  Personal data identification and
   redaction is crucial to make sure that a logging application is not
   storing and potentially leaking users&#x27; private information.  There
   are known precedents that help discover and extract sensitive data,
   for example, we can define a regular expression or lookup rules that
   will match a person&#x27;s name, credit card number, email address and so



<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


   on.  Besides, there are data dictionary based training models that
   can analyze logs and predict presence of sensitive data and
   subsequently redact it.  This document proposes an approach and
   framework for creating logs with personal information tagged, thus
   marking a step towards privacy aware logging.  Once personal
   information is identified in a log, it has to be appropriately tagged
   at source.  Personal data tagging is especially important in cases
   where log data is flowing in from disparate sources.  In cases where
   tagging at source is not possible (e.g. log data generated by a
   legacy application, IoT device, Web server or a Firewall), a
   centralized logging server can be tasked with making sure the log
   data is tagged before passing on downstream.  Once the logs are
   tagged, the logging application can use anonymization techniques to
   redact the fields appropriately.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Terminology</span>

      *Personal data:* <a href="/doc/html/rfc6973">RFC 6973</a> [<a href="/doc/html/rfc6973" title="&quot;Privacy Considerations for Internet Protocols&quot;">RFC6973</a>] defines personal data as &quot;any
      information relating to an individual who can be identified,
      directly or indirectly.&quot;  This typically includes information such
      as IP addresses, username, email address, financial data,
      passwords and so on.  However, the definition of personal data
      varies heavily by what other information is available, the
      jurisdiction of operation and other such factors.  Hence, this
      document does not focus on prescriptively listing what log fields
      contain personal data but rather on what a tagging mechanism would
      look like once a logging application has determined which fields
      it considers to hold personal data.

      *Structured logging:* Most applications generate logs in a
      unidimensional format that twine together logic status and input
      data.  This makes log output largely free flowing and unstructured
      without specific delimiters making it hard to segregate personal
      information from other text in the log.  Structured logging refers
      to a formal arrangement of logs with specific identifiers of
      personal information and semantic information to enable easy
      parsing and identification of specific information in the log.

      *Privacy Sensitivity Level:* Sensitivity level defines the degree
      of sensitivity of a data in log template or schema.  Level can be
      enumerated on a scale 1 to 5 and defined as follows: 1 - Low risk
      for leaking private information and 5 - Very high risk for leaking
      private information&gt;








<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Motivation and Use Cases</span>

   Most systems like network devices, web servers and application
   services record information about user activity, transactions,
   network flows, etc., as log data.  Logs are incredibly useful for
   various purposes such as security monitoring, application debugging,
   investigations and operational maintenance.  In addition, there are
   use cases of organizations exporting or sharing logs with third party
   log analyzers for purposes of security incident response, monitoring,
   business analytics, where logs can be a valuable source of
   information.  In such cases, there are concerns about potential
   exposure of personal data to unintended systems or recipients.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Challenges with Existing Approaches</span>

   While methods of detecting personal identifiable information are
   continuously evolving, most approaches are around use of regular
   expressions, data or dataset based training models, pattern
   recognition, checksum matching, building custom logic.

   *Inconsistent Representation:* When applications, services or
   devices, log personal information, there is no consistency in the
   representation of the information.  For example the name of a user is
   often logged as either &quot;fullname&quot; (e.g.  John Doe) or with
   &quot;firstname&quot; (John) and &quot;lastname&quot; (Doe).

   *Context:* In most cases, what data is considered personal and
   sensitive is subjective, provisional and contextual to the data
   source or the application processing the data, which makes it hard to
   use automated techniques to identify personal data.  Even for a
   specific domain, it&#x27;s controversial whether it is possible to
   definitively say that a piece of data is NOT identifying.

   *Disparate Types of Personal Data:* There are many disparate types of
   personal data and often require a multitude approaches for detection.

   *Lack of standards:* There are no standards that govern formats of
   sensitive data making automation difficult for most common use cases.

   *Detection Accuracy:* Most of the current PII detections tools employ
   regular expression based techniques or other pattern recognition
   techniques to identify the PII data.  Due to the very nature of logs,
   most of the current implementations let administrators to add
   redaction policies based on &#x27;likelihood&#x27; of detection probability
   categorized as low, medium or high.  Defining a low detection scheme
   causes high false positives and a high detection scheme would cause
   PII leakage, thereby making a trade off inevitable to organizations.




<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Proposed Model</span>

   This section describes a reference model to enable tagging of
   personal information at source and extends it to include an approach
   of role or policy based redaction based on personal information
   annotated at source.  The figure below illustrates the proposed
   model.



     Log Template/Schema with personal data identifiers
                         |
                         V
                   Log library
                         |
                         V
                     Application
                         |
                         V
                 Generate annotated log
                         |
                         V
                     Log redaction +---  consumer / role based
                                   +--   sensitivity based




                              Figure 1: Flow

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  Defining the log privacy schema</span>

   We propose using structured logging where a log schema or a template
   defines standardized identifiers for every personal information and
   each log field is associated with a sensitivity level customized to a
   use case or log intent.

   Note that this is not to be confused with a log severity level (WARN,
   INFO...) - those are typically defined &quot;dynamically&quot; by the developer
   while defining the severity of a certain scenario.  A privacy
   sensitivity level is defined statically and is part of a log schema,
   associated with the log name and data type.









<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


   +------------------+-----------------+----------------+-------------+
   | Name             | Abstract Data   | Description    | Sensitivity |
   |                  | Type            |                | [1-Low      |
   |                  |                 |                | 5-High]     |
   +------------------+-----------------+----------------+-------------+
   | nationalIdentity | String          | National IDs   | 5           |
   |                  |                 | issued by      |             |
   |                  |                 | sovereign      |             |
   |                  |                 | governments.   |             |
   |                  |                 | Eg., SSN       |             |
   | drivingLicense   | String          |  Driving       | 5           |
   |                  |                 | License number |             |
   | taxIdentity      | String          |  Tax           | 5           |
   |                  |                 | identification |             |
   |                  |                 | numbers        |             |
   | credtCardNumber  | String          |  Credit cards  | 5           |
   | bankAccount      | String          |  Bank account  | 5           |
   |                  |                 | number         |             |
   | dateOfBirth      | Date            |  Date of Birth | 4           |
   | personName       | String          |  Person name   | 5           |
   | emailAddress     | String          | Email          | 4           |
   | phoneNumber      | Number          | Phone          | 5           |
   | zipCode          | Integer         |  Zip codes     | 2           |
   | ipAddress        | ipv4Address     |  IPv4 or IPv6  | 4           |
   |                  |                 | Address        |             |
   | dateTimeSeconds  | dateTimeSeconds | seconds        | 1           |
   | age              | Integer         | Age            | 3           |
   | ethnicGroup      | String          | Ethnic group   | 5           |
   | genderIdentity   | String          |  Gender        | 5           |
   |                  |                 | identity       |             |
   | macAddress       | macAddress      |  MAC Address   | 4           |
   +------------------+-----------------+----------------+-------------+

             Personal Information Identifiers Registry Example

   If an organization already uses structured logging with a log schema,
   then a privacy sensitivity level can be an additional attribute for
   the schema.

   The privacy sensitivity level for log types is intended to be defined
   by a centralized effort around privacy preservation in logs.  In
   other words, this mapping might be done by an organization&#x27;s privacy
   team (which can include lawyers, engineers and privacy
   professionals).  The intention is that all logs generated by an org
   should conform to this structured format, which would ease downstream
   processing of logs for access control and removal of sensitive
   information.




<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


   If the log is being generated by a web server, then two approaches
   can be taken:

   1.  Modify log-format for the service: identify the log data type of
   each piece of log data generated, and tag in generation (examples
   provided in later section)

   2.  Add automated tagging in a centralized log aggregator: collect
   all the logs generated by different services and apply the annotation
   using the log schema at the aggregator

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  Typical Workflow</span>

   The log privacy schema can be parsed into a structured logging
   library, that is used by individual developer teams.  The intention
   is for developers to not log arbitrary data i.e. they are asked to
   identify what is the data type of the state they want to preserve.

   Any addition to the log schema would have to go through review of the
   privacy team that came up with the log schema.

   Once a log is generated, tagged and stored, various kinds of access
   control techniques can be applied to who can access the logs.

<span class="h3"><a class="selflink" id="section-5.3" href="#section-5.3">5.3</a>.  Log Processing and Access Control</span>

   1.  *Consumer Role Based Access*

       A.  Once the log is tagged, access to it can be based on a
           consumer&#x27;s role and privilege level.

       B.  A consumeer role based policy can define what level of
           sensitivity they can access.

   2.  *Case-based access*

       A.  If there is a genuine case for which access to sensitive
           information is needed and granted by the legal department, a
           cryptographically-signed token (e.g.JWT) can be generated
           that will allow access to a developer/user to logs of an
           increased log level.  This access can be temporal in nature
           i.e. the token will only be valid for a certain amount of
           time.

       B.  A transaction ID can also be propagated automatically
           throughout the request processing, to correlate different
           logs related to a single request.  Note that the notion of a
           &quot;request&quot; can vary based on what the application is doing.



<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


           The idea is to have a single unifying ID to tie a particular
           action.  If this is done, then the temporary token can be
           restricted to a particular request ID.

   3.  *Redaction Techniques*

       A.  Given that the log is tagged, an organization might choose to
           redact the more sensitive logs i.e. ones above a certain
           sensitivity level, ones of a certain log type.

       B.  More sophisticated approaches can be developed i.e.
           completely redact log types username and email, but obfuscate
           IP address so that a rough location can be garnered from the
           log record.  In this way, techniques such as differential
           privacy can be used in tandem to have privacy guarantees for
           logs while still providing usefulness to developers.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Examples</span>

   An example based on <a href="/doc/html/rfc3164">RFC 3164</a> [<a href="/doc/html/rfc3164" title="&quot;The BSD Syslog Protocol&quot;">RFC3164</a>] log format:

   Normal Log Ouput

   &lt;120&gt; Nov 16 16:00:00 10.0.1.11 ABCDEFG: [AF@0 event=&quot;AF-Authority
   failure&quot; violation=&quot;A-Not authorized to object&quot; actual_type=&quot;AF-A&quot;
   jrn_seq=&quot;1001363&quot; timestamp=&quot;20120418163258988000&quot;
   job_name=&quot;QPADEV000B&quot; user_name=&quot;XYZZY&quot; job_number=&quot;256937&quot;
   err_user=&quot;TESTFORAF&quot; ip_addr=&quot;10.0.1.21&quot; port=&quot;55875&quot;
   action=&quot;Undefined(x00)&quot; val_job=&quot;QPADEV000B&quot; val_user=&quot;XYZZY&quot;
   val_jobno=&quot;256937&quot; object=&quot;TEST&quot; object_library=&quot;CUS9242&quot;
   object_type=&quot;*FILE&quot; pgm_name=&quot;&quot; pgm_libr=&quot;&quot; workstation=&quot;&quot;]

   Log Output with Personal Information Tagging

   &lt;120&gt; Apr 18 16:32:58 10.0.1.11 QAUDJRN: [AF@0 event=&quot;AF-Authority
   failure&quot; violation=&quot;A-Not authorized to object&quot; actual_type=&quot;AF-A&quot;
   jrn_seq=&quot;1001363&quot; timestamp=&quot;20120418163258988000&quot;
   job_name=&quot;QPADEV000B&quot; {personName=&quot;XYZZY&quot; pii_sensitivity_level=1}
   job_number=&quot;256937&quot; {emailAddress=&quot;xyz@foo.com&quot;
   pii_sensitivity_level=2] [ip_addr=&quot;10.0.1.21&quot;
   pii_sensitivity_level=4] port=&quot;55875&quot; action=&quot;Undefined(x00)&quot;
   val_job=&quot;QPADEV000B&quot; val_jobno=&quot;256937&quot; object=&quot;TEST&quot;
   object_library=&quot;CUS9242&quot; object_type=&quot;*FILE&quot; pgm_name=&quot;&quot; pgm_libr=&quot;&quot;
   workstation=&quot;&quot;]







<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  IANA Considerations</span>

   IANA can consider defining a new central respository for Personal
   Information name and identifier registries to used in logging
   personal information.  The personal identifier registry would
   enumerate namee and identifiers as described in <a href="#section-5.1">Section 5.1</a>.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Security Considerations</span>

   It is anticipated that developers will want additional log data types
   for capturing application logic, and might abuse an existing log type
   instead of going through the process of adding a new one.  In such a
   case, the log would be incorrectly tagged.  This can be mitigated by
   having stronger typing for the log data types i.e. restricting
   address to a certain string length instead of storing arbitrary
   length.

   Encouraging developers to think carefully about what kind of data
   they&#x27;re logging is a good practice and will lead to fewer incidents
   of private data being inadvertently logged.  An organization might
   choose to have an unstructured log type for letting developers log
   data that truly do not fit anywhere else.  This is still better than
   not having structured privacy-aware logging, because the potential
   privacy leakage is isolated to one particular field and its use can
   be monitored.

   Having a mapping from log data type to privacy sensitivity will need
   continuous effort by a privacy team, which might be expensive for an
   organization.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Acknowledgements</span>

   The authors would like to thank everyone who provided helpful
   comments at the mic at IETF 106 during the PEARG session.

<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3164">RFC3164</a>]  Lonvick, C., &quot;The BSD Syslog Protocol&quot;, <a href="/doc/html/rfc3164">RFC 3164</a>,
              DOI 10.17487/RFC3164, August 2001,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3164">https://www.rfc-editor.org/info/rfc3164</a>&gt;.






<span class="grey">Rao, et al.            Expires September 10, 2020               [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey">Internet-Draft                   PITFoL                       March 2020</span>


   [<a id="ref-RFC6973">RFC6973</a>]  Cooper, A., Tschofenig, H., Aboba, B., Peterson, J.,
              Morris, J., Hansen, M., and R. Smith, &quot;Privacy
              Considerations for Internet Protocols&quot;, <a href="/doc/html/rfc6973">RFC 6973</a>,
              DOI 10.17487/RFC6973, July 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6973">https://www.rfc-editor.org/info/rfc6973</a>&gt;.

Authors&#x27; Addresses

   Sandeep Rao
   Grab
   Bangalore
   India

   Email: sandeeprao.ietf@gmail.com


   Santhosh C N
   Grab

   Email: santoshcn1@gmail.com


   Shivan Sahib
   Salesforce

   Email: shivankaulsahib@gmail.com


   Ryan Guest
   Salesforce

   Email: rguest@salesforce.com



















Rao, et al.            Expires September 10, 2020              [Page 10]
</pre>
    </div>

  </div>
  <div class="col-md-1"></div>
  <div class="col-md-1"></div>


        
        
	  </div>
        

	
<div></div>


      </div>

      
<!-- template: /a/www/ietf-datatracker/web/ietf/templates/debug.html -->



      <script src="https://www.ietf.org/lib/dt/7.7.0/jquery/jquery.min.js"></script>
      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      <script src="https://www.ietf.org/lib/dt/7.7.0/js-cookie/src/js.cookie.js"></script>
      <script src="https://www.ietf.org/lib/dt/7.7.0/ietf/bootstrap/js/bootstrap.min.js"></script>
      <script src="https://www.ietf.org/lib/dt/7.7.0/ietf/js/ietf.js"></script>
      
      
  </body>
</html>

